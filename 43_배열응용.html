<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      #content {
        max-width: 500px;
        margin: 50px auto;
      }
      #content span {
        color: pink;
      }
      form {
        max-width: 500px;
        margin: 50px auto;
      }
    </style>
  </head>
  <body>
    <div id="content"></div>
    <form action="#">
      <input type="text" id="irum" />
      <button onclick="add()">추가</button>
      <button onclick="remove()">삭제</button>
      <button onclick="modify()">수정</button>
    </form>
    <script>
      let content = document.querySelector("#content");
      let students = ["김한울", 100, "장나라", 80, "홍길동", 90];
      //위의 배열을 활용하여 학생 이름만 필터링해서 #content에
      // <ul>
      // <li>김한울님 환영합니다.</li>
      // <li>장나라님 환영합니다.</li>
      // <li>홍길동님 환영합니다.</li>
      // </ul>

      //   let newstudents = students.filter((value) => typeof value == "string");
      //   let list = "<ul>";
      //   for (let i = 0; i < newstudents.length; i++) {                               // 포문
      //     list += `<li>${newstudents[i]}님 환영합니다.</li>`;
      //   }
      //   for (let i in newstudents) {                                                 // 포인문
      //     list += `<li><span>${newstudents[i]}</span>님 환영합니다.</li>`;
      //   }
      //   newstudents.forEach(                                                         // 포이치문
      //     (value) => (list += `<li><span>${value}</span>님 환영합니다.</li>`)
      //   );
      //   list += "</ul>";
      //   content.innerHTML = list;

      // 버튼 추가,삭제,수정

      let newstudents = students.filter((value) => typeof value == "string");
      let irum = document.querySelector("#irum");
      //   function add() {
      //     if (irum.value !== "") {
      //       newstudents.push(irum.value);
      //     }
      //     let list = "<ul>";
      //     newstudents.forEach(
      //       (value) => (list += `<li><span>${value}</span>님 환영합니다.</li>`)
      //     );
      //     list += "</ul>";
      //     content.innerHTML = list;
      //   }
      //   add();
      function init() {
        let list = "<ul>";
        newstudents.forEach(
          (value) => (list += `<li><span>${value}</span>님 환영합니다.</li>`)
        );
        list += "</ul>";
        content.innerHTML = list;
      }
      init();
      function add() {
        if (irum.value) {
          newstudents.push(irum.value);
          irum.value = "";
          init();
        }
      }
      function remove() {
        if (irum.value) {
          let findIndex = newstudents.indexOf(irum.value);
          if (findIndex !== -1) {
            newstudents.splice(findIndex, 1);
            irum.value = "";
            init();
          } else {
            alert("존재하지 않는 회원입니다.");
          }
        }
      }

      function modify() {
        if (irum.value) {
          let findIndex = newstudents.indexOf(irum.value);
          if (findIndex !== -1) {
            let newirum = prompt("수정할 이름을 입력하세요.", "");
            newstudents.splice(findIndex, 1, newirum);
            irum.value = "";
            init();
          } else {
            alert("존재하지 않는 회원입니다.");
          }
        }
      }
    </script>
  </body>
</html>
